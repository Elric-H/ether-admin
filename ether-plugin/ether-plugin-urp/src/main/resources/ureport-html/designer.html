<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link href="${contextPath}/ureport/res/ureport-asserts/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<title>UReport2 Designer</title>
 <script type="text/javascript" src="${contextPath}/ureport/res/ureport-asserts/venderjs/jquery.min.js"></script>
 <script type="text/javascript" src="${contextPath}/ureport/res/ureport-asserts/venderjs/jquery.contextMenu.min.js"></script>
 <script type="text/javascript" src="${contextPath}/ureport/res/ureport-asserts/venderjs/completer.min.js"></script>
 <script type="text/javascript" src="${contextPath}/ureport/res/ureport-asserts/venderjs/bootstrap-colorpicker.min.js"></script>
</head>
<body style="margin:0px">
<div id='container'></div>
<script type="text/javascript">
	window._server="${contextPath}/ureport";
	window._contextPath="${contextPath}";
    let domain = getRequestParameters(location.href).Domain;
    if(domain) {
     window._domain = domain.split('#')[0];
    } else {
     window._domain = window._server;
    }

    $.ajaxSetup({
     beforeSend: function (xhr,e) {
      xhr.setRequestHeader("Domain",  window._domain);
     }
    });

    function getRequestParameters(locationHref) {
     let href = locationHref || '';
     let theRequest = {};
     let str = href.split('?')[1];
     if (str !== undefined) {
      let strArr = str.split('&');
      for (let i = 0; i < strArr.length; i++) {
       theRequest[strArr[i].split('=')[0]] = strArr[i].split('=')[1];
      }
     }
     return theRequest;
    }
</script>
<script type="text/javascript" src="${contextPath}/ureport/res/ureport-asserts/js/designer.bundle.js"></script>
</body>
</html>